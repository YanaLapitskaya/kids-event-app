--
-- PostgreSQL database dump
--

-- Dumped from database version 10.3
-- Dumped by pg_dump version 10.3

-- Started on 2018-04-27 18:41:38

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET client_min_messages = warning;
SET row_security = off;

--
-- TOC entry 2217 (class 0 OID 0)
-- Dependencies: 2216
-- Name: DATABASE "kids-events"; Type: COMMENT; Schema: -; Owner: postgres
--

COMMENT ON DATABASE "kids-events" IS 'database for kids event application';


--
-- TOC entry 1 (class 3079 OID 12278)
-- Name: plpgsql; Type: EXTENSION; Schema: -; Owner: 
--

CREATE EXTENSION IF NOT EXISTS plpgsql WITH SCHEMA pg_catalog;


--
-- TOC entry 2219 (class 0 OID 0)
-- Dependencies: 1
-- Name: EXTENSION plpgsql; Type: COMMENT; Schema: -; Owner: 
--

COMMENT ON EXTENSION plpgsql IS 'PL/pgSQL procedural language';


SET default_tablespace = '';

SET default_with_oids = false;

--
-- TOC entry 196 (class 1259 OID 16471)
-- Name: Client; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."Client" (
    id integer NOT NULL,
    name name,
    phone bigint,
    social_networks character(1)[],
    notes text
);


ALTER TABLE public."Client" OWNER TO postgres;

--
-- TOC entry 197 (class 1259 OID 16477)
-- Name: Client_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public."Client_id_seq"
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public."Client_id_seq" OWNER TO postgres;

--
-- TOC entry 2220 (class 0 OID 0)
-- Dependencies: 197
-- Name: Client_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public."Client_id_seq" OWNED BY public."Client".id;


--
-- TOC entry 198 (class 1259 OID 16479)
-- Name: Employee; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."Employee" (
    id integer NOT NULL,
    first_name name,
    last_name name,
    description text,
    phone bigint,
    email character(30),
    "position" character(30),
    photo text
);


ALTER TABLE public."Employee" OWNER TO postgres;

--
-- TOC entry 2221 (class 0 OID 0)
-- Dependencies: 198
-- Name: TABLE "Employee"; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON TABLE public."Employee" IS 'table with company''s employees';


--
-- TOC entry 199 (class 1259 OID 16485)
-- Name: Employee_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public."Employee_id_seq"
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public."Employee_id_seq" OWNER TO postgres;

--
-- TOC entry 2222 (class 0 OID 0)
-- Dependencies: 199
-- Name: Employee_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public."Employee_id_seq" OWNED BY public."Employee".id;


--
-- TOC entry 200 (class 1259 OID 16487)
-- Name: Order; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."Order" (
    client_id integer,
    id integer NOT NULL,
    price numeric(8,0),
    comments text,
    status text,
    "dateOrder" timestamp without time zone DEFAULT now(),
    "dateService" timestamp without time zone
);


ALTER TABLE public."Order" OWNER TO postgres;

--
-- TOC entry 201 (class 1259 OID 16493)
-- Name: OrderService; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."OrderService" (
    order_id integer NOT NULL,
    service_id integer NOT NULL
);


ALTER TABLE public."OrderService" OWNER TO postgres;

--
-- TOC entry 202 (class 1259 OID 16496)
-- Name: Order_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public."Order_id_seq"
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public."Order_id_seq" OWNER TO postgres;

--
-- TOC entry 2223 (class 0 OID 0)
-- Dependencies: 202
-- Name: Order_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public."Order_id_seq" OWNED BY public."Order".id;


--
-- TOC entry 203 (class 1259 OID 16498)
-- Name: Review; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."Review" (
    id integer NOT NULL,
    name name,
    text text,
    photo text
);


ALTER TABLE public."Review" OWNER TO postgres;

--
-- TOC entry 204 (class 1259 OID 16504)
-- Name: Review_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public."Review_id_seq"
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public."Review_id_seq" OWNER TO postgres;

--
-- TOC entry 2224 (class 0 OID 0)
-- Dependencies: 204
-- Name: Review_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public."Review_id_seq" OWNED BY public."Review".id;


--
-- TOC entry 205 (class 1259 OID 16506)
-- Name: Service; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."Service" (
    id integer NOT NULL,
    photos text[],
    title character(50),
    description text,
    price numeric(8,0)
);


ALTER TABLE public."Service" OWNER TO postgres;

--
-- TOC entry 206 (class 1259 OID 16512)
-- Name: Service_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public."Service_id_seq"
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public."Service_id_seq" OWNER TO postgres;

--
-- TOC entry 2225 (class 0 OID 0)
-- Dependencies: 206
-- Name: Service_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public."Service_id_seq" OWNED BY public."Service".id;


--
-- TOC entry 2057 (class 2604 OID 16514)
-- Name: Client id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Client" ALTER COLUMN id SET DEFAULT nextval('public."Client_id_seq"'::regclass);


--
-- TOC entry 2058 (class 2604 OID 16515)
-- Name: Employee id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Employee" ALTER COLUMN id SET DEFAULT nextval('public."Employee_id_seq"'::regclass);


--
-- TOC entry 2059 (class 2604 OID 16516)
-- Name: Order id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Order" ALTER COLUMN id SET DEFAULT nextval('public."Order_id_seq"'::regclass);


--
-- TOC entry 2061 (class 2604 OID 16517)
-- Name: Review id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Review" ALTER COLUMN id SET DEFAULT nextval('public."Review_id_seq"'::regclass);


--
-- TOC entry 2062 (class 2604 OID 16518)
-- Name: Service id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Service" ALTER COLUMN id SET DEFAULT nextval('public."Service_id_seq"'::regclass);


--
-- TOC entry 2200 (class 0 OID 16471)
-- Dependencies: 196
-- Data for Name: Client; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public."Client" (id, name, phone, social_networks, notes) FROM stdin;
4	Богдан	293334441	\N	\N
1	Николай	331769783	\N	\N
3	Яна	442542432	\N	\N
2	Алена М	449782432	\N	какой прекрасный день
\.


--
-- TOC entry 2202 (class 0 OID 16479)
-- Dependencies: 198
-- Data for Name: Employee; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public."Employee" (id, first_name, last_name, description, phone, email, "position", photo) FROM stdin;
2	Яна	Лапицкая	Цель моей жизни -- приносить радость детям и мир во всем мире	445552659	yanalapitskay@gmail.com       	бухгалтер                     	/images/employees/yana.jpg
1	Елена	Вороная	Счастья, здоровья всем, с днем рождения	291357999	\N	директор                      	/images/employees/lena.jpg
3	Евгений	Вороной	Приятно видеть детей счастливыми	447683647	\N	аниматор                      	/images/employees/eugene-m.jpg
4	Евгения	Гапеева	Люблю детей <3	339789789	\N	СЕО                           	/images/employees/eugene-f.jpg
62	new	employee		\N	                              	                              	/images/employees/0cb70ff2826e9b71fbe4935391ccb3881524644900249.png
64	Terminator	Terminal		444683474	term                          	worker                        	/images/employees/3be85376821e7ef9e5fbfc5ff17a91e11524645330550.png
\.


--
-- TOC entry 2204 (class 0 OID 16487)
-- Dependencies: 200
-- Data for Name: Order; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public."Order" (client_id, id, price, comments, status, "dateOrder", "dateService") FROM stdin;
2	3	0	больше шаров	отменён	2018-04-27 17:13:24.483434	2018-04-27 17:13:24.483434
1	1	0	4 ребенка	отменён	2018-04-27 17:13:24.483434	2018-04-27 17:13:24.483434
4	6	0	местоположение за Минском	обработан	2018-04-27 17:13:24.483434	2018-04-27 17:13:24.483434
2	9	0	без родителей	не обработан	2018-04-27 17:13:24.483434	2018-04-27 17:13:24.483434
1	7	0	нужно прийти раньше	отменён	2018-04-27 17:13:24.483434	2018-04-27 17:13:24.483434
4	11	0	\N	обработан	2018-04-27 17:13:24.483434	2018-04-27 17:13:24.483434
3	10	0	буду благодарна, если будете снимать фотографии	не обработан	2018-04-27 17:13:24.483434	2018-04-27 17:13:24.483434
2	13	\N	\N	не обработан	2018-04-27 17:13:24.483434	2018-04-27 17:13:24.483434
1	12	0	\N	обработан	2018-04-27 17:13:24.483434	2018-04-27 17:13:24.483434
3	5	0	9 детей	не обработан	2018-04-27 14:13:24.483	2018-04-27 14:13:24.483
\.


--
-- TOC entry 2205 (class 0 OID 16493)
-- Dependencies: 201
-- Data for Name: OrderService; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public."OrderService" (order_id, service_id) FROM stdin;
11	3
6	1
6	3
1	1
3	3
9	3
7	3
\.


--
-- TOC entry 2207 (class 0 OID 16498)
-- Dependencies: 203
-- Data for Name: Review; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public."Review" (id, name, text, photo) FROM stdin;
2	Николай	Хорошая программа. Красивые и веселые аниматоры. Нравки, нравки	/images/photos/review-2.jpg
1	Алёна	Брали программу "приключения маленького поняши". Все очень понравилось!	/images/photos/review-1.jpg
5	Яна	Всем детям все понравилось	/images/photos/review-4.jpg
3	Данила	Прекрасный способ занять детей на 2 часа!	/images/photos/review-3.jpg
\.


--
-- TOC entry 2209 (class 0 OID 16506)
-- Dependencies: 205
-- Data for Name: Service; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public."Service" (id, photos, title, description, price) FROM stdin;
3	{/images/services/3.jpg}	Поняша-суперняша                                  	Познакомься с поняшей-суперняшей!	20
1	{/images/services/1.jpg,/images/services/2.jpg}	Путешествие в страну пупырок                      	Увлекательное и незабываемое погружение детей в мир пупырок! :)	16
\.


--
-- TOC entry 2226 (class 0 OID 0)
-- Dependencies: 197
-- Name: Client_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public."Client_id_seq"', 21, true);


--
-- TOC entry 2227 (class 0 OID 0)
-- Dependencies: 199
-- Name: Employee_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public."Employee_id_seq"', 64, true);


--
-- TOC entry 2228 (class 0 OID 0)
-- Dependencies: 202
-- Name: Order_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public."Order_id_seq"', 13, true);


--
-- TOC entry 2229 (class 0 OID 0)
-- Dependencies: 204
-- Name: Review_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public."Review_id_seq"', 6, true);


--
-- TOC entry 2230 (class 0 OID 0)
-- Dependencies: 206
-- Name: Service_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public."Service_id_seq"', 11, true);


--
-- TOC entry 2071 (class 2606 OID 16520)
-- Name: OrderService OrderService_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."OrderService"
    ADD CONSTRAINT "OrderService_pkey" PRIMARY KEY (order_id, service_id);


--
-- TOC entry 2064 (class 2606 OID 16522)
-- Name: Client client_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Client"
    ADD CONSTRAINT client_pkey PRIMARY KEY (id);


--
-- TOC entry 2066 (class 2606 OID 16524)
-- Name: Employee empl_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Employee"
    ADD CONSTRAINT empl_pkey PRIMARY KEY (id);


--
-- TOC entry 2069 (class 2606 OID 16526)
-- Name: Order order_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Order"
    ADD CONSTRAINT order_pkey PRIMARY KEY (id);


--
-- TOC entry 2073 (class 2606 OID 16528)
-- Name: Review review_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Review"
    ADD CONSTRAINT review_pkey PRIMARY KEY (id);


--
-- TOC entry 2075 (class 2606 OID 16530)
-- Name: Service service_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Service"
    ADD CONSTRAINT service_pkey PRIMARY KEY (id);


--
-- TOC entry 2067 (class 1259 OID 16531)
-- Name: fki_client_order; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX fki_client_order ON public."Order" USING btree (client_id);


--
-- TOC entry 2077 (class 2606 OID 16532)
-- Name: OrderService OrderService_order_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."OrderService"
    ADD CONSTRAINT "OrderService_order_id_fkey" FOREIGN KEY (order_id) REFERENCES public."Order"(id);


--
-- TOC entry 2078 (class 2606 OID 16537)
-- Name: OrderService OrderService_service_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."OrderService"
    ADD CONSTRAINT "OrderService_service_id_fkey" FOREIGN KEY (service_id) REFERENCES public."Service"(id);


--
-- TOC entry 2076 (class 2606 OID 16542)
-- Name: Order client_order_fk; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Order"
    ADD CONSTRAINT client_order_fk FOREIGN KEY (client_id) REFERENCES public."Client"(id);


-- Completed on 2018-04-27 18:41:38

--
-- PostgreSQL database dump complete
--

